# ========================================
# NFC应用测试指南
# ========================================

## ✅ 应用已成功运行！

### 📱 当前状态
- 应用正常启动
- XML布局加载成功
- 所有界面元素显示正常

---

## 🔄 更新应用（修复输入框显示）

在物理主机PowerShell中执行：

```powershell
$adb = "K:\tool\adb\adb.exe"

# 安装更新
& $adb install -r "K:\NFC\NFCApp\app\build\outputs\apk\debug\app-debug.apk"

# 启动应用
& $adb shell am start -n com.nfc.app/.MainActivity
```

---

## 🧪 NFC功能测试

### 测试前准备
1. ✅ 确保手机NFC功能已启用
   - 打开手机 **设置** → **连接** → **NFC** → 开启
2. ✅ 准备一张NFC卡片或标签

### 测试步骤

#### 1️⃣ 测试读取功能
```
1. 在应用中点击 "📖读取" 按钮
2. 应该显示Toast："读取模式：请靠近NFC标签"
3. 将NFC卡片靠近手机背部（通常在手机中上部）
4. 等待读取完成
5. 查看是否显示NFCID和卡片信息
```

#### 2️⃣ 测试写入功能
```
1. 在 "卡号" 输入框输入测试卡号，如：12345678
2. 在 "车号" 输入框输入测试车号，如：粤A88888
3. 点击 "✏️写入" 按钮
4. 应该显示Toast："写入模式：请靠近NFC标签"
5. 将NFC卡片靠近手机背部
6. 等待写入完成
7. 查看是否显示写入成功提示
```

#### 3️⃣ 验证写入内容
```
1. 写入完成后，再次点击 "📖读取" 按钮
2. 将同一张卡片靠近手机
3. 检查读取的信息是否与写入的一致
```

#### 4️⃣ 查看记录列表
```
1. 滚动到界面底部 "读写记录" 区域
2. 应该能看到刚才读取/写入的记录
3. 每条记录包含：NFCID、卡号、车号、时间等信息
```

---

## 📊 预期结果

### ✅ 成功标志
- **读取成功**：显示"读取成功！"Toast
- **写入成功**：显示"写入成功！"Toast  
- **记录保存**：在"读写记录"列表中看到新记录
- **数据准确**：读取的数据与写入的一致

### ⚠️ 可能的问题

**问题1：提示"请靠近NFC标签"后无反应**
- 解决：尝试调整卡片位置，NFC天线通常在手机背部中上方
- 解决：确认卡片是标准的NFC标签（如NTAG213/215/216）

**问题2：读取失败**
- 解决：卡片可能未格式化或不支持
- 解决：尝试使用其他NFC卡片

**问题3：写入失败**
- 解决：卡片可能是只读的
- 解决：确保输入了卡号和车号

---

## 🔍 日志查看

如果遇到问题，查看详细日志：

```powershell
# 实时查看日志
& $adb logcat | Select-String "NFCApp|NFC"

# 或查看最近日志
& $adb logcat -d | Select-String "NFCApp" | Select-Object -Last 50
```

---

## 📝 测试记录模板

```
测试时间：____________________
设备型号：____________________
Android版本：__________________

□ 应用启动正常
□ 界面显示完整
□ NFC读取功能正常
□ NFC写入功能正常
□ 数据保存功能正常
□ 记录列表显示正常

问题记录：
_________________________________
_________________________________
_________________________________
```

---

## 🎯 下一步开发

当基础功能测试通过后，可以继续开发：

1. **打印功能** - 连接蓝牙打印机打印记录
2. **上传功能** - 将记录上传到服务器
3. **数据统计** - 显示读写统计图表
4. **批量操作** - 批量读取/写入多张卡片

---

**开始测试NFC功能吧！** 🚀
